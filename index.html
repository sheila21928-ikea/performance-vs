<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥‡ç¾é†«é™¢ - ä¸»æ²»é†«å¸«ç¸¾æ•ˆç®¡ç†ç³»çµ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif; }
        .animate-fadeIn { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* è‡ªå®šç¾©æ»¾å‹•æ¢ */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #EBE3DC; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #C27A62; }
    </style>
</head>
<body class="bg-[#FDFBF7] text-[#5C433A]">
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'https://esm.sh/react@18';
        import { createRoot } from 'https://esm.sh/react-dom@18/client';
        import { 
          Stethoscope, UploadCloud, FileText, LineChart, 
          Calendar, CheckCircle2, Loader2, Edit2, 
          ChevronRight, ChevronLeft, LogOut, Save, Image as ImageIcon
        } from 'https://esm.sh/lucide-react@0.292.0';

        // âš ï¸ è«‹å°‡ä¸‹æ–¹çš„ç¶²å€æ›¿æ›ç‚ºä½ éƒ¨ç½² Google Apps Script ç”¢ç”Ÿçš„ç¶²å€
        const GAS_API_URL = "https://script.google.com/macros/s/AKfycbygN9SLjS-5rQA5jaaRWQps5bER3QxOLQ2xRzqwdNj1oz784rvMfGPmj9zotglcVBQ0/exec";

        // --- è‡ªå®šç¾©ä¸»é¡Œè‰²ç³» (å¤§åœ°æš–è‰²èª¿) ---
        const theme = {
          bg: 'bg-[#FDFBF7]',
          card: 'bg-[#FFFFFF]',
          primary: 'bg-[#C27A62]',
          primaryHover: 'hover:bg-[#A35D46]',
          primaryText: 'text-[#C27A62]',
          primaryLight: 'bg-[#F3E8E0]',
          border: 'border-[#EBE3DC]',
          textMain: 'text-[#5C433A]',
          textLight: 'text-[#8B736A]',
        };

        function App() {
          const [user, setUser] = useState(null);
          const [currentYear, setCurrentYear] = useState(114);
          const [currentMonth, setCurrentMonth] = useState(12);
          const [toast, setToast] = useState(null);

          const showToast = (msg) => {
            setToast(msg);
            setTimeout(() => setToast(null), 3000);
          };

          const handlePrevMonth = () => {
            if (currentMonth === 1) {
              setCurrentMonth(12);
              setCurrentYear(y => y - 1);
            } else {
              setCurrentMonth(m => m - 1);
            }
          };

          const handleNextMonth = () => {
            if (currentMonth === 12) {
              setCurrentMonth(1);
              setCurrentYear(y => y + 1);
            } else {
              setCurrentMonth(m => m + 1);
            }
          };

          const handleLogout = () => {
            setUser(null);
            showToast('å·²ç™»å‡ºç³»çµ±');
          };

          if (!user) {
            return <LoginView onLogin={(userData) => { 
              setUser(userData); 
              showToast(`æ­¡è¿ç™»å…¥ï¼Œ${userData.name} é†«å¸«`); 
            }} />;
          }

          return (
            <div className={`min-h-screen ${theme.bg} ${theme.textMain} font-sans flex flex-col`}>
              {/* é ‚éƒ¨å°èˆª */}
              <header className={`${theme.card} border-b ${theme.border} shadow-sm sticky top-0 z-50`}>
                <div className="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between">
                  <div className="flex items-center gap-2">
                    <Stethoscope className={`w-6 h-6 ${theme.primaryText}`} strokeWidth={1.5} />
                    <h1 className="font-bold text-lg tracking-wide hidden sm:block">
                      å¥‡ç¾é†«é™¢ <span className="font-normal opacity-80">| é†«å¸«ç¸¾æ•ˆç®¡ç†ç«¯</span>
                    </h1>
                  </div>
                  
                  {/* æœˆä»½åˆ‡æ›å™¨ */}
                  <div className="flex items-center gap-3 bg-[#FDFBF7] px-4 py-1.5 rounded-full border border-[#EBE3DC]">
                    <button onClick={handlePrevMonth} className="p-1 hover:bg-[#E8CDBF] rounded-full transition-colors text-[#8B736A]">
                      <ChevronLeft className="w-4 h-4" />
                    </button>
                    <span className="font-bold text-[#5C433A] min-w-[110px] text-center text-sm">
                      {currentYear} å¹´ {currentMonth} æœˆ
                    </span>
                    <button onClick={handleNextMonth} className="p-1 hover:bg-[#E8CDBF] rounded-full transition-colors text-[#8B736A]">
                      <ChevronRight className="w-4 h-4" />
                    </button>
                  </div>

                  {/* ä½¿ç”¨è€…è³‡è¨Šèˆ‡ç™»å‡º */}
                  <div className="flex items-center gap-4">
                    <div className="text-right hidden sm:block">
                      <div className="text-sm font-bold">{user.name}</div>
                      <div className="text-xs text-[#8B736A]">{user.department}</div>
                    </div>
                    <button onClick={handleLogout} className="p-2 text-[#8B736A] hover:text-[#C27A62] hover:bg-[#F3E8E0] rounded-full transition-colors" title="ç™»å‡º">
                      <LogOut className="w-5 h-5" />
                    </button>
                  </div>
                </div>
              </header>

              {/* ä¸»è¦å…§å®¹å€ */}
              <main className="flex-1 max-w-5xl w-full mx-auto px-6 py-8">
                <PhysicianView showToast={showToast} year={currentYear} month={currentMonth} user={user} />
              </main>

              {/* Toast é€šçŸ¥ */}
              {toast && (
                <div className="fixed bottom-6 right-6 bg-[#5C433A] text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-fadeIn z-50">
                  <CheckCircle2 className="w-5 h-5 text-green-400" />
                  {toast}
                </div>
              )}
            </div>
          );
        }

        // --- ç™»å…¥ç•«é¢çµ„ä»¶ ---
        function LoginView({ onLogin }) {
          return (
            <div className={`min-h-screen ${theme.bg} flex items-center justify-center p-4`}>
              <div className={`${theme.card} w-full max-w-sm p-8 rounded-2xl shadow-xl border ${theme.border} animate-fadeIn`}>
                <div className="flex justify-center mb-6">
                  <div className={`w-16 h-16 rounded-full ${theme.primaryLight} flex items-center justify-center`}>
                    <Stethoscope className={`w-8 h-8 ${theme.primaryText}`} strokeWidth={1.5} />
                  </div>
                </div>
                <h2 className="text-2xl font-bold text-center mb-2 text-[#5C433A]">ä¸»æ²»é†«å¸«ç¸¾æ•ˆç³»çµ±</h2>
                <p className="text-center text-[#8B736A] mb-8 text-sm">è«‹é»æ“Šä¸‹æ–¹å¸³è™Ÿé€²è¡Œç™»å…¥æ¸¬è©¦</p>
                
                <button 
                  onClick={() => onLogin({ role: 'physician', name: 'é»ƒçªé›…', department: 'ä¸€èˆ¬å…§ç§‘' })}
                  className="w-full flex items-center justify-between p-4 rounded-xl border border-[#EBE3DC] hover:border-[#C27A62] hover:bg-[#FDFBF7] transition-all group"
                >
                  <div className="flex items-center gap-4">
                    <div className="w-10 h-10 rounded-full bg-[#E8CDBF] text-[#C27A62] flex items-center justify-center font-bold text-lg">
                      é»ƒ
                    </div>
                    <div className="text-left">
                      <div className="font-bold text-[#5C433A]">é»ƒçªé›… é†«å¸«</div>
                      <div className="text-xs text-[#8B736A]">ä¸€èˆ¬å…§ç§‘ ä¸»æ²»é†«å¸«</div>
                    </div>
                  </div>
                  <ChevronRight className="w-5 h-5 text-gray-300 group-hover:text-[#C27A62]" />
                </button>
              </div>
            </div>
          );
        }

        // --- é†«å¸«å°ˆå±¬è¦–åœ–çµ„ä»¶ ---
        function PhysicianView({ showToast, year, month, user }) {
          const [tab, setTab] = useState('form');
          const [isUploading, setIsUploading] = useState(false);
          const [aiProcessed, setAiProcessed] = useState(false);
          const [isSaving, setIsSaving] = useState(false); // æ–°å¢ï¼šå„²å­˜ä¸­çš„ç‹€æ…‹
          
          const [formData, setFormData] = useState({
            clinicalTeaching: '',
            pgyGuidance: '',
            departmentAffairs: '',
            hospitalAffairs: ''
          });

          const handleUpload = () => {
            setIsUploading(true);
            setAiProcessed(false);
            
            setTimeout(() => {
              setIsUploading(false);
              setAiProcessed(true);
              setFormData({
                clinicalTeaching: 'è‡¨åºŠç—…ä¾‹æ•™å­¸è¨è«–: B / 114.12.11; 22; 24\nè¯åˆè¨è«–æœƒ: H(æ•™å­¸æª¢è¨æœƒ) / 114.12.15\næ­»äº¡æˆ–ä½µç™¼ç—‡è¨è«–æœƒ: G / 114.11.08; 15; 22; 29',
                pgyGuidance: 'PGY1 æ›¾éºŸæ– (2åˆ†)\nUGY åŠ‰æ—æ˜Œ (1åˆ†)',
                departmentAffairs: 'ä»¥å…§ç§‘éƒ¨ UGY è² è²¬äººä»£è¡¨å…§ç§‘éƒ¨åƒèˆ‡ TMAC ä¸­å±±é†«è©•é‘‘ (12/10)\nä»¥å…§ç§‘éƒ¨ UGY è² è²¬äººä»£è¡¨å…§ç§‘éƒ¨åƒèˆ‡ TMAC ä¸­å±±é†«è©•é‘‘ (12/17)',
                hospitalAffairs: 'åƒåŠ å…¨é™¢ä¸»ç®¡å…±è­˜ç‡Ÿæ“”ä»»è¬›è€… (12/13)\nä»£è¡¨å¥‡ç¾é†«é™¢åƒèˆ‡ NHQA åœ‹å®¶é†«ç™‚å“è³ªçç²å¾—éŠ…ç (ä»¥ AI å¥‡åšå£«)\né™¢å…§ A+ æˆ‘è¦å• prompt æ‡‰ç”¨ç«¶è³½ è‡¨åºŠå€‹æ¡ˆå ±å‘Šçµ„ ç¬¬äºŒå (11/28)'
              });
              showToast('AI å·²æˆåŠŸè¾¨è­˜è¡Œäº‹æ›†èˆ‡æˆªåœ–ï¼æ‚¨å¯ä»¥é»æ“Šæ¬„ä½é€²è¡Œä¿®æ”¹ã€‚');
            }, 2500);
          };

          // ğŸŒŸ æ ¸å¿ƒä¿®æ”¹ï¼šå°‡è³‡æ–™å¯«å…¥ Google è©¦ç®—è¡¨çš„ API å‘¼å«
          const handleSave = async () => {

            setIsSaving(true);
            showToast("æ­£åœ¨å‚³é€è³‡æ–™è‡³è³‡æ–™åº«...");

            // æº–å‚™è¦å‚³é€çµ¦ GAS çš„ JSON æ ¼å¼è³‡æ–™ï¼ŒKey å°æ‡‰è©¦ç®—è¡¨ç¬¬ä¸€åˆ—
            const recordToSave = {
              id: "P" + Date.now(),
              month: `${year}-${month.toString().padStart(2, '0')}`,
              physician_name: user.name,
              teaching_cases: formData.clinicalTeaching,
              trainee_guidance: formData.pgyGuidance,
              public_affairs: formData.departmentAffairs,
              achievements: formData.hospitalAffairs,
              status: "pending"
            };

            try {
              const response = await fetch(GAS_API_URL, {
                method: "POST",
                body: JSON.stringify(recordToSave)
              });
              
              const result = await response.json();
              if (result.status === "success") {
                showToast('è³‡æ–™å·²æˆåŠŸå¯«å…¥ Google è©¦ç®—è¡¨ï¼');
                setAiProcessed(false); // å„²å­˜å¾Œé‡ç½®è¡¨å–®ç‹€æ…‹
              } else {
                showToast('å„²å­˜å¤±æ•—ï¼š' + result.message);
              }
            } catch (error) {
              console.error("å¯«å…¥éŒ¯èª¤:", error);
              showToast('ç¶²è·¯éŒ¯èª¤ï¼Œç„¡æ³•é€£ç·šè‡³è³‡æ–™åº«ã€‚');
            } finally {
              setIsSaving(false);
            }
          };

          const handleFormChange = (field, value) => {
            setFormData(prev => ({ ...prev, [field]: value }));
          };

          return (
            <div className="animate-fadeIn">
              <div className="mb-6">
                <h2 className="text-2xl font-bold mb-1">æ‚¨å¥½ï¼Œ{user.name} é†«å¸«</h2>
                <p className={`${theme.textLight}`}>è«‹ä¸Šå‚³æ‚¨çš„è¡Œç¨‹ç´€éŒ„ï¼Œç³»çµ±å°‡è‡ªå‹•ç‚ºæ‚¨ç”Ÿæˆ {year} å¹´ {month} æœˆä»½ç¸¾æ•ˆè¡¨ã€‚</p>
              </div>

              {/* é ç±¤åˆ‡æ› */}
              <div className={`flex border-b ${theme.border} mb-6`}>
                <button 
                  onClick={() => setTab('form')}
                  className={`px-6 py-3 font-medium flex items-center gap-2 border-b-2 transition-colors ${tab === 'form' ? `border-[#C27A62] ${theme.primaryText}` : 'border-transparent text-gray-500 hover:text-gray-700'}`}
                >
                  <FileText className="w-4 h-4" strokeWidth={1.5} />
                  ç•¶æœˆç¸¾æ•ˆè¡¨ç”¢å‡º
                </button>
                <button 
                  onClick={() => setTab('trend')}
                  className={`px-6 py-3 font-medium flex items-center gap-2 border-b-2 transition-colors ${tab === 'trend' ? `border-[#C27A62] ${theme.primaryText}` : 'border-transparent text-gray-500 hover:text-gray-700'}`}
                >
                  <LineChart className="w-4 h-4" strokeWidth={1.5} />
                  æ­·å²ç¸¾æ•ˆè¶¨å‹¢
                </button>
              </div>

              {/* ç•¶æœˆç¸¾æ•ˆè¡¨ç”¢å‡ºå…§å®¹å€ */}
              {tab === 'form' && (
                <div className="grid grid-cols-1 lg:grid-cols-12 gap-6">
                  
                  {/* å·¦å´ï¼šä¸Šå‚³å€å¡Š */}
                  <div className="lg:col-span-4 space-y-4">
                    <div className={`${theme.card} p-6 rounded-2xl border ${theme.border} shadow-sm h-full`}>
                      <h3 className="font-bold mb-4 flex items-center gap-2 text-[#5C433A]">
                        <Calendar className="w-5 h-5 text-[#C27A62]" strokeWidth={1.5}/> åŒ¯å…¥è¡Œç¨‹ç´€éŒ„
                      </h3>
                      
                      <div 
                        onClick={!isUploading ? handleUpload : undefined}
                        className={`border-2 border-dashed rounded-xl p-8 text-center transition-all h-[calc(100%-3rem)] flex flex-col justify-center items-center min-h-[250px]
                          ${isUploading ? 'border-gray-300 bg-gray-50 cursor-wait' : `border-[#E2BCA5] hover:border-[#C27A62] hover:bg-[#FDFBF7] cursor-pointer`}`}
                      >
                        {isUploading ? (
                          <div className="flex flex-col items-center gap-4 animate-fadeIn">
                            <Loader2 className={`w-10 h-10 animate-spin ${theme.primaryText}`} />
                            <p className={`${theme.primaryText} font-medium`}>AI è¦–è¦ºæ¨¡å‹è§£æä¸­...</p>
                            <p className="text-xs text-gray-400">æ­£åœ¨èƒå–æœƒè­°ã€æ•™å­¸èˆ‡ç²çç´€éŒ„</p>
                          </div>
                        ) : (
                          <div className="flex flex-col items-center gap-3 animate-fadeIn">
                            <div className={`w-16 h-16 rounded-full ${theme.primaryLight} flex items-center justify-center mb-2`}>
                              <ImageIcon className={`w-8 h-8 ${theme.primaryText}`} strokeWidth={1.5} />
                            </div>
                            <p className="font-medium text-[#5C433A]">é»æ“Šä¸Šå‚³è¡Œäº‹æ›†æˆ–æˆªåœ–</p>
                            <p className="text-xs text-gray-400 leading-relaxed">æ”¯æ´ Google Calendar (.ics)<br/>æˆ–æ‰‹æ©Ÿç›¸ç°¿åœ–ç‰‡ (.jpg, .png)</p>
                            
                            <button className={`mt-4 bg-white border border-[#C27A62] text-[#C27A62] hover:bg-[#C27A62] hover:text-white px-4 py-2 rounded-lg text-sm transition-colors`}>
                              é¸æ“‡æª”æ¡ˆ
                            </button>
                          </div>
                        )}
                      </div>
                    </div>
                  </div>

                  {/* å³å´ï¼šAI å¡«å¯«çµæœ (å¯ç·¨è¼¯è¡¨å–®) */}
                  <div className="lg:col-span-8">
                    <div className={`${theme.card} p-6 rounded-2xl border ${theme.border} shadow-sm relative overflow-hidden min-h-[400px] flex flex-col`}>
                      
                      {/* æœªè™•ç†æ™‚çš„é®ç½© */}
                      {!aiProcessed && !isUploading && (
                        <div className="absolute inset-0 bg-white/70 backdrop-blur-[1px] z-10 flex flex-col items-center justify-center">
                          <div className="bg-white px-8 py-6 rounded-2xl shadow-lg border border-gray-100 text-center">
                            <FileText className="w-10 h-10 text-gray-300 mx-auto mb-3" strokeWidth={1} />
                            <p className="text-gray-500 font-medium">è«‹å…ˆæ–¼å·¦å´ä¸Šå‚³è³‡æ–™ä»¥å•Ÿå‹• AI è¾¨è­˜</p>
                          </div>
                        </div>
                      )}
                      
                      <div className="flex flex-wrap justify-between items-end mb-6 gap-4 border-b border-gray-100 pb-4">
                        <div>
                          <h3 className="font-bold text-lg text-[#5C433A]">å…§ç§‘éƒ¨ä¸»æ²»é†«å¸«ç¸¾æ•ˆè¡¨</h3>
                          {aiProcessed ? (
                            <p className="text-sm text-[#C27A62] mt-1 flex items-center gap-1">
                              <CheckCircle2 className="w-4 h-4" /> AI å·²åˆæ­¥å¡«å¯«ï¼Œè«‹é»æ“Šä¸‹æ–¹æ¬„ä½é€²è¡Œä¿®æ”¹ç¢ºèª
                            </p>
                          ) : (
                            <p className="text-sm text-gray-400 mt-1">å°šæœªåŒ¯å…¥è³‡æ–™</p>
                          )}
                        </div>
                        <button 
                          onClick={handleSave} 
                          disabled={!aiProcessed || isSaving}
                          className={`${(!aiProcessed || isSaving) ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : `${theme.primary} ${theme.primaryHover} text-white shadow-sm`} px-5 py-2.5 rounded-lg text-sm font-bold transition-all flex items-center gap-2`}
                        >
                          {isSaving ? <Loader2 className="w-4 h-4 animate-spin" /> : <Save className="w-4 h-4" />} 
                          {isSaving ? 'å„²å­˜ä¸­...' : 'å„²å­˜ä¸¦é€å‡º'}
                        </button>
                      </div>

                      <div className="space-y-4 flex-1 overflow-y-auto pr-2">
                        <FormField 
                          label="ä¸€ã€ç§‘æ•™å­¸é …ç›® (è‡¨åºŠç—…ä¾‹æ•™å­¸/é†«å­¸æ–‡ç»è¨è«–)" 
                          value={formData.clinicalTeaching} 
                          onChange={(v) => handleFormChange('clinicalTeaching', v)}
                          editable={aiProcessed && !isSaving}
                        />
                        <FormField 
                          label="äºŒã€ä½é™¢é†«å¸«åŠå¯¦ç¿’é†«å­¸ç”ŸæŒ‡å°" 
                          value={formData.pgyGuidance} 
                          onChange={(v) => handleFormChange('pgyGuidance', v)}
                          editable={aiProcessed && !isSaving}
                        />
                        <FormField 
                          label="ä¸‰ã€ç§‘å…¬å…±äº‹å‹™è²¢ç» (ä¸€èˆ¬/ç‰¹å®š KPI)" 
                          value={formData.departmentAffairs} 
                          onChange={(v) => handleFormChange('departmentAffairs', v)}
                          editable={aiProcessed && !isSaving}
                        />
                        <FormField 
                          label="å››ã€éƒ¨å…¬å…±äº‹å‹™è²¢ç» (å…¨é™¢ä¸»ç®¡/é™¢å¤–ç«¶è³½)" 
                          value={formData.hospitalAffairs} 
                          onChange={(v) => handleFormChange('hospitalAffairs', v)}
                          editable={aiProcessed && !isSaving}
                        />
                      </div>
                    </div>
                  </div>
                </div>
              )}

              {/* æ­·å²ç¸¾æ•ˆè¶¨å‹¢å…§å®¹å€ */}
              {tab === 'trend' && (
                <div className={`${theme.card} p-8 rounded-2xl border ${theme.border} shadow-sm max-w-4xl mx-auto`}>
                  <div className="flex justify-between items-center mb-8">
                    <div>
                      <h3 className="font-bold text-xl text-[#5C433A]">{year} å¹´åº¦å€‹äººç¸¾æ•ˆç©åˆ†è¶¨å‹¢</h3>
                      <p className="text-sm text-gray-500 mt-1">åŒ…å«æ•™å­¸ç©åˆ†èˆ‡å…¬å…±äº‹å‹™ç©åˆ†ç¸½è¨ˆ</p>
                    </div>
                    <div className="bg-[#F8EFEA] px-4 py-2 rounded-lg text-[#C27A62] font-bold">
                      å¹´åº¦å¹³å‡ï¼š68.2 åˆ†
                    </div>
                  </div>

                  <div className="h-72 flex items-end justify-between gap-3 pt-10 border-b border-gray-100 pb-2 relative">
                    {/* èƒŒæ™¯åƒè€ƒç·š */}
                    <div className="absolute inset-0 flex flex-col justify-between pointer-events-none pb-2">
                       <div className="border-b border-gray-100 w-full h-0"></div>
                       <div className="border-b border-gray-100 w-full h-0"></div>
                       <div className="border-b border-gray-100 w-full h-0"></div>
                       <div className="border-b border-gray-100 w-full h-0"></div>
                    </div>

                    {[45, 52, 48, 60, 55, 65, 70, 68, 75, 82, 78, 85].map((val, i) => (
                      <div key={i} className="relative flex flex-col items-center flex-1 group z-10">
                        <div className="absolute -top-10 opacity-0 group-hover:opacity-100 transition-all transform group-hover:-translate-y-1 bg-[#5C433A] text-white text-xs py-1.5 px-2.5 rounded shadow-lg whitespace-nowrap z-20">
                          {val} åˆ†
                        </div>
                        <div 
                          className={`w-full max-w-[48px] rounded-t-lg transition-all duration-500 shadow-sm ${i + 1 === month ? 'bg-[#C27A62]' : 'bg-[#E8CDBF] hover:bg-[#D9B5A3]'}`}
                          style={{ height: `${val}%` }}
                        ></div>
                        <span className={`text-sm mt-3 ${i + 1 === month ? 'text-[#C27A62] font-bold' : 'text-gray-500 font-medium'}`}>{i + 1}æœˆ</span>
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </div>
          );
        }

        // è¼”åŠ©è¡¨å–®æ¬„ä½çµ„ä»¶ (æ”¯æ´å¤šè¡Œç·¨è¼¯)
        function FormField({ label, value, onChange, editable = false }) {
          return (
            <div className={`bg-[#FDFBF7] p-4 rounded-xl border transition-all duration-200 ${editable ? 'border-[#C27A62]/40 hover:border-[#C27A62] hover:shadow-sm focus-within:border-[#C27A62] focus-within:ring-1 focus-within:ring-[#C27A62]' : 'border-gray-100'}`}>
              <label className="block text-sm font-bold text-[#8B736A] mb-2 flex justify-between items-center">
                {label}
                {editable && <Edit2 className="w-3.5 h-3.5 text-[#C27A62] opacity-70" />}
              </label>
              <textarea 
                className={`w-full bg-transparent border-none focus:ring-0 p-0 text-[15px] leading-relaxed text-[#5C433A] resize-none outline-none ${!editable && 'opacity-60'}`} 
                rows={value ? value.split('\n').length : 2}
                value={value}
                readOnly={!editable}
                onChange={(e) => onChange(e.target.value)}
                placeholder="ç­‰å¾… AI è¾¨è­˜å¾Œå°‡è‡ªå‹•å¡«å…¥..."
                style={{ minHeight: '60px' }}
              />
            </div>
          );
        }

        // æ¸²æŸ“ React æ‡‰ç”¨ç¨‹å¼
        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
